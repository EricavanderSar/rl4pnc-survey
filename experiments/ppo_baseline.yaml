model_config: &model_config
  # fcnet_hiddens: [256,256,256]
  fcnet_activation: relu
  # custom_model : fcn
  # custom_model_config : 
  #   use_parametric: False
  #   env_obs_name: grid
                         
env_config_train: &env_config_train
  env_name: rte_case5_example
  # keep_actions: [change_bus]
  # keep_observations : [rho, gen_p, load_p, p_or, p_ex, timestep_overflow, maintenance , topo_vect]
  # convert_to_tuple: True # ignored if act_on_singe or medha_actions
  # act_on_single_substation: True # ignored if medha : True
  # medha_actions: True
  # use_parametric: False 
  # rho_threshold: 0.95 #0.9
  # scale: True
  # run_until_threshold: True 
  # log_reward: False
  # combine_rewards: False

env_config_val: &env_config_val
  env_name: rte_case5_example
  # keep_actions: [change_bus]
  # keep_observations : [rho, gen_p, load_p, p_or, p_ex, timestep_overflow, maintenance , topo_vect]
  # convert_to_tuple: True # ignored if act_on_singe or medha_actions
  # act_on_single_substation: True # ignored if medha : True
  # medha_actions: True
  # use_parametric: False 
  # rho_threshold: 0.95 #0.9
  # scale: True
  # run_until_threshold: True 
  # log_reward: False
  # combine_rewards: False

tune_config:
  # env: Grid_Gym
  env_config: *env_config_train  # config to pass to env class
  model : *model_config
  log_level: INFO
  framework: torch
  seed : 22 # !choice [21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50, 51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]
  gamma : 0.95
  lr : 0.003
  vf_loss_coeff : 0.5
  entropy_coeff : 0.01
  clip_param : 0.2
  lambda_ : 0.95
  sgd_minibatch_size : 4
  train_batch_size : 32
  use_critic : True
  use_gae : True
  use_kl_loss : True
  kl_coeff : 0.2
  kl_target : 0.01
  num_sgd_iter : 30
  shuffle_sequences : True
  vf_clip_param : 10.0
  grad_clip : None
  num_rollout_workers : 2
  # evaluation_config: 
  #   env: Grid_Gym
  #   env_config: *env_config_val # use the validation env

environment:
  env : CustomizedGrid2OpEnvironment
  env_config:
    env_name : ENV_NAME,
    grid2op_kwargs:
      test: True,
      reward_class: Reward.L2RPNReward
